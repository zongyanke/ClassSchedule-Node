# 排课demo前后端接口

api测试地址<https://apizza.net/console/project/7854d2039c00bab862ed5f3e31a22fe2/dev>


---

### 1. 用户登录

- 路径： ./users/login
- 方法： POST
- 参数： 

		raw {
			id: "用户名",
			password: "密码"
		}

- 返回值：

		JSON {
			code: 错误编号,
			msg: 错误信息 （无错误时可无此项）
		}

- 错误说明：

		错误码  说明
		 0      成功
		 400    链接错误
		 403    用户名或密码错误
		 409    此用户名已被占用（注册时）
		 500    服务器或数据库错误
		 
### 2. 用户注册

 - 路径：./users/register
 - 方法：POST
 - 参数：

        raw{
            	userName: "用户名",
			password_1: "密码",
			password_2: "密码"
        }
    
 - 返回：

		JSON {
			code: 错误编号,
			msg: 错误信息 （无错误时可无此项）
		}
		
### 3. 导入两个excel文件（登录后）

 - 路径：./users/upload
 - 方法：post
 - 参数：

		form-data{
            	myfile: Student.xlsx,
			myfile: Teacher.xlsx
        }
 - 返回：

        JSON {
			code: 错误编号,
			msg: 错误信息 （无错误时可无此项）
		}
 - 错误代码

        错误码	说明
         0      成功
		 400    链接错误
		 403    用户未登录
		 500    服务器或数据库错误
        
### 4. 输入基本排课限制

 - 路径：./users/limit
 - 方法：POST
 - 参数：

        form-data{
            	day: "一周多少天",
            	course: "一天多少节",
			classroom:"有多少间教室",
			capacity:"一间教室能容纳多少人",
			class:"现在的班级数目"
        }

 - 返回：
 
		JSON {
			code: 错误编号,
			msg: 错误信息 （无错误时可无此项）
		}
 - 错误代码

        错误码	说明
         0      成功
		 400    链接错误
		 403    需要修改的任务不存在
		 409    修改后的名称重名
		 500    服务器或数据库错误

### 5. 取得所有科目以及老师的列表（用来修改timetable）

 - 路径：./users/get_cou_tea_list
 - 方法：GET
 - 参数：无   
 - 返回：

		JSON {
			"subject_list": [
				{"id": 0,"subject_name": "语文"},
				{"id": 1,"subject_name": "数学"}
			],
			"teacher_list": [
				{"id": 1,"name": "宁文瑞"},
				{"id": 2,"name": "吕三诗"}
			]
		}
 - 错误代码

        错误码	说明
         0      成功
		 400    链接错误
		 403    需要删除的任务不存在
		 500    服务器或数据库错误
		
### 6. 取得某科目或者某老师的timetable

 - 路径：./users/get_timetable
 - 方法：GET
 - 参数：

        form-data{
            	id:"老师或者课程id",
			name:"课程名字或者老师名字",
			type:"0代表课程，1代表老师"
        }

 - 返回：

		[
			["0","0","0","1","1","1","1","1","1"],
			["0","0","0","1","1","1","1","1","1"],
			["0","0","0","1","1","1","1","1","1"],
			["0","0","0","1","1","1","1","1","1"],
			["0","0","0","1","1","1","1","1","1"]
		]

 - 错误代码

        错误码	说明
         0      成功
		 400    链接错误
		 403    格式错误（？需要告诉他格式有错误吗）
		 500    服务器或数据库错误
### 7. 修改某课程或者某老师的timetable

 - 路径：./users/write_timetable
 - 方法：POST
 - 参数：

        raw[
				["0","0","0","1","1","1","1","1","1"],
				["0","1","1","1","1","1","1","1","1"],
				["0","1","1","1","1","1","1","1","1"],
				["1","1","1","1","1","1","1","1","1"],
				["1","1","1","1","1","1","1","1","1"]
			]

 - 返回：

		JSON {
			code: 错误编号,
			msg: 错误信息 （无错误时可无此项）
		}
 - 错误代码

        错误码	说明
         0      成功
		 400    链接错误
		 403    格式错误（？需要告诉他格式有错误吗）
		 500    服务器或数据库错误

### 8. 获得某学生或者某老师的课程表
- 路径：./users/get_schedule
- 方法：GET
- 参数：

        form-data[
				id:"学生或者老师的id",
				type:"0代表学生，1代表老师"
			]

 - 返回：待定
 - 错误代码

        错误码	说明
         0      成功
		 400    链接错误
		 403    格式错误（？需要告诉他格式有错误吗）
		 500    服务器或数据库错误